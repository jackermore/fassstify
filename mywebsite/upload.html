<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>서비스 - Fasstify</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .preview { margin-top: 15px; text-align: center; display: none; }
    .preview img { max-width: 250px; border-radius: 10px; margin-top: 10px; }
    .file-name { margin-top: 5px; font-size: 14px; color: #555; }
    .preview-actions { margin-top: 10px; display: flex; gap: 8px; justify-content: center; }
    .btn-outline { padding: 8px 14px; border: 1px solid #aaa; border-radius: 8px; background: transparent; cursor: pointer; }
    .upload-btn { cursor: pointer; } /* 기존 버튼 스타일 사용 */
  </style>
</head>
<body>
  <header class="navbar">
    <div class="logo">
        <a href="index.html">
        <img src="C:\Users\minku\OneDrive\바탕 화면\images\logo.jpg" width="150" alt="Fasstify 로고">
      </a>
    </div>
    <nav>
      <ul>
        <li><a href="index.html">홈</a></li>
        <li><a href="upload.html" class="active">서비스</a></li>
        <li><a href="index.html#about">회사 소개</a></li>
        <li><a href="contact.html">문의</a></li>
      </ul>
    </nav>
  </header>

  <main class="upload-section">
    <div class="upload-box">
      <h1>옷 사진 업로드</h1>
      <p>옷 사진을 업로드하면 어울리는 음악 플레이리스트를 추천해드립니다.</p>

      <!-- 실제 파일 입력(숨김) -->
      <input type="file" id="fileInput" accept="image/*" hidden>

      <!-- 업로드 영역: 파일 선택 후 사라짐 -->
      <div class="upload-area" id="uploadArea">
        <span class="upload-icon">⬆️</span>
        <p>여기에 이미지를 끌어다 놓거나</p>
        <label for="fileInput" class="upload-btn">파일 선택</label>
      </div>

      <!-- 미리보기 영역: 파일 선택 후 나타남 -->
      <div class="preview" id="preview">
        <p class="file-name" id="fileName">선택된 파일 없음</p>
        <img id="previewImage" src="" alt="이미지 미리보기">
        <div class="preview-actions">
          <button type="button" id="changeBtn" class="upload-btn">다른 파일 선택</button>
          <button type="button" id="resetBtn" class="upload-btn">초기화</button>
        </div>
      </div>
    </div>
  </main>

  <script>
    const fileInput = document.getElementById('fileInput');
    const uploadArea = document.getElementById('uploadArea');
    const preview = document.getElementById('preview');
    const fileNameEl = document.getElementById('fileName');
    const previewImage = document.getElementById('previewImage');
    const changeBtn = document.getElementById('changeBtn');
    const resetBtn = document.getElementById('resetBtn');

    // 파일 선택 시: 업로드 영역 숨기고, 미리보기 표시
    fileInput.addEventListener('change', function () {
      const file = this.files && this.files[0];
      if (!file) return;

      fileNameEl.textContent = '선택한 파일: ' + file.name;

      const reader = new FileReader();
      reader.onload = function (e) {
        previewImage.src = e.target.result;
        previewImage.style.display = 'block';
      };
      reader.readAsDataURL(file);

      uploadArea.style.display = 'none';
      preview.style.display = 'block';
    });

    // 다른 파일 선택
    changeBtn.addEventListener('click', function () {
      fileInput.click();
    });

    // 초기화: 파일 해제하고 업로드 영역 다시 보이기
    resetBtn.addEventListener('click', function () {
      fileInput.value = '';
      previewImage.src = '';
      preview.style.display = 'none';
      uploadArea.style.display = '';
      fileNameEl.textContent = '선택된 파일 없음';
    });
  </script>
</body>
</html>
